(()=>{var t={801:(t,e,o)=>{const r=o(565),n=function(){const t=()=>{const t=r.getEnemyBoard();for(let e=0;e<100;e++){const o=document.querySelector(`#enemy-board .cell[data-index="${e}"]`);o.classList.remove("cell--sunk");let r=t[e];"none"===r?o.textContent="":"hit"===r?o.textContent="X":"sunk"===r?(o.textContent="X",o.classList.add("cell--sunk")):o.textContent="-"}},e=()=>{const t=r.getUserBoard();for(let e=0;e<100;e++){const o=document.querySelector(`#player-board .cell[data-index="${e}"]`);o.classList.remove("cell--sunk");let r=t[e];"none"===r?o.textContent="":"hit"===r?o.textContent="-":"sunk"===r?(o.textContent="X",o.classList.add("cell--sunk")):o.textContent="X"}};return{reset:()=>{document.querySelectorAll(".board").forEach((o=>{for(let n=0;n<100;n++){const s=document.createElement("button");s.classList.add("cell"),s.setAttribute("data-index",n.toString()),"player-board"===o.getAttribute("id")||s.addEventListener("click",(o=>{if(r.attack(n%10,Math.floor(n/10),0)){t(),r.aiMove(),e();const o=r.getWinner();null!==o&&alert(`You ${0===o?"WON":"LOST"}!`)}})),o.appendChild(s)}}))},updateEnemyBoard:t,updateUserBoard:e}}();t.exports=n},565:(t,e,o)=>{const r=o(300),n=function(){const t=[];let e=0,o=!1;const n=e=>{for(;!t[e].isReady();){const t=Math.ceil(10*Math.random())-1,o=Math.ceil(10*Math.random())-1,r=Math.ceil(4*Math.random()),n=Math.ceil(2*Math.random())-1?"vertical":"horizontal";a(e,t,o,r,n)}},s=(r,n,s)=>{if(!o)return;if(!t[0].isReady())return;if(s!==e)return;const a=e?0:1;return!!t[a].board.receiveAttack(r,n)&&(t[a].board.hasLost()&&(o=!1),e=a,console.log("succes with attack!"),!0)},a=(e,o,r,n,s)=>{t[e].board.placeShip(o,r,n,s)};return{reset:()=>{t[0]=r(),t[1]=r(),n(0),n(1),o=!0},attack:s,getEnemyBoard:()=>t[1].board.getEnemyBoard(),getUserBoard:()=>t[0].board.getUserBoard(),aiMove:()=>{if(o)for(;;){const t=Math.ceil(10*Math.random())-1,e=Math.ceil(10*Math.random())-1;if(s(t,e,1))break}},getWinner:()=>t[0].board.hasLost()?1:t[1].board.hasLost()?0:null}}();t.exports=n},451:(t,e,o)=>{const r=o(572);t.exports=function(){const t=[];for(let e=0;e<100;e++)t.push({});let e={1:0,2:0,3:0,4:0,total:0};const o=(t,e)=>t>=0&&t<10&&e>=0&&e<10,n=(e,o,r)=>t[10*o+e]=r,s=(e,o)=>t[10*o+e],a=(t,e,o)=>({x:t+("horizontal"===o?1:0),y:e+("horizontal"===o?0:1)}),i=()=>10===e.total;return{isFull:i,placeShip:(t,l,c,u)=>{if(!((t,r,n,l)=>{if(i()||e[n.toString()]==5-n)return!1;for(let e=0;e<n;e++){if(!o(t,r))return!1;for(let e=-1;e<=1;e++)for(let n=-1;n<=1;n++)if(o(t+e,r+n)&&s(t+e,r+n).ship)return!1;({x:t,y:r}=a(t,r,l))}return!0})(t,l,c,u))return!1;const d=r(c);for(let e=0;e<c;e++)n(t,l,{position:e,ship:d}),({x:t,y:l}=a(t,l,u));return e.total+=1,e[c.toString()]+=1,!0},receiveAttack:(t,e)=>{const o=s(t,e);return!o.hit&&(o.hit=!0,o.ship&&o.ship.hit(o.position),!0)},hasLost:()=>t.reduce(((t,e)=>t&&(!e.ship||e.ship.isSunk())),!0),getEnemyBoard:()=>{let e=[];for(let o of t)if(o.hit)if(o.ship){if(o.ship.isSunk()){e.push("sunk");continue}e.push("hit")}else e.push("miss");else e.push("none");return e},getUserBoard:()=>{let e=[];console.log(t);for(let o of t)o.ship?o.hit?e.push("sunk"):e.push("ship"):o.hit?e.push("hit"):e.push("none");return e}}}},300:(t,e,o)=>{const r=o(451);t.exports=function(){const t=r();return{board:t,isReady:()=>t.isFull()}}},572:t=>{t.exports=function(t){const e=[];for(let o=0;o<t;o+=1)e.push(!1);return{hit:t=>!e[t]&&(e[t]=!0,!0),isSunk:()=>e.reduce(((t,e)=>t&&e),!0)}}}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,o),s.exports}(()=>{"use strict";const t=o(801),e=o(565);t.reset(),e.reset(),t.updateEnemyBoard(),t.updateUserBoard()})()})();